vlans:
    office:
        vid: 100
        description: "office network"

acls:
    mirror1:
        - rule:
            actions:
                allow: 1
                output:
                    - port: 2
    mirror0:
        - rule:
            actions:
                allow: 1
                output:
                    - set_fields:
                        - eth_src: "00:00:00:00:00:02" 
    mirror:
        - rule:
            dl_type: 0x800
            nw_proto: 17
            udp_dst: 53
            actions:
                allow: 1
                mirror: 3
        - rule:
            actions:
                allow: 1
    allow-all:
        - rule:
            actions:
                allow: 1

dps:
    sw1:
        dp_id: 0x1
        hardware: "Open vSwitch"
        interfaces:
            1:
                name: "h1"
                description: "host1 network namespace"
                native_vlan: office
                acls_in: [mirror1, allow-all]
            2:
                name: "h2"
                description: "host2 network namespace"
                native_vlan: office
            3:
                name: "nat0"
                description: "nat0 network interfaces"
                native_vlan: office
